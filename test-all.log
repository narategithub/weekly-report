2022-09-19 13:20:04 INFO: WORK_DIR: /mnt/300G/data/2022-09-19-132003
2022-09-19 13:20:04 INFO: LOG: /mnt/300G/data/2022-09-19-132003/cygnus-weekly.log
~/projects/ldms-test ~/projects/ldms-test
/mnt/300G/data/2022-09-19-132003 ~/projects/ldms-test ~/projects/ldms-test
2022-09-19 13:20:04 INFO: Does not have RDMA, skip building on host
d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-19 13:20:04 INFO: Skip building containerized binary because GIT SHA has not changed: c7577d494f5924b98137084e73d2e95f2e804958
2022-09-19 13:20:04 INFO: -- Installation process succeeded --
2022-09-19 13:20:04 INFO: ---------------------------------------------------------------
~/projects/ldms-test /mnt/300G/data/2022-09-19-132003
~/projects/ldms-test/weekly-report ~/projects/ldms-test /mnt/300G/data/2022-09-19-132003
HEAD is now at d252ace 2022-09-19-131013
[master 4a6998b] 2022-09-19-132003
 2 files changed, 14 insertions(+), 116 deletions(-)
 rewrite test-all.log (96%)
To github.com:narategithub/weekly-report
   d252ace..4a6998b  master -> master
~/projects/ldms-test /mnt/300G/data/2022-09-19-132003
2022-09-19 13:20:06 INFO: ==== OVIS+SOS Installation Completed ====
2022-09-19 13:20:06 INFO: ==== Start batch testing ====
~/projects/ldms-test /mnt/300G/data/2022-09-19-132003 ~/projects/ldms-test ~/projects/ldms-test
2022-09-19 13:20:06 INFO: ======== agg_slurm_test ========
2022-09-19 13:20:06 INFO: CMD: python3 agg_slurm_test --prefix /home/narate/projects/ldms-test/ldms-containers/ovis --runtime docker --image ovishpc/ldms-dev --src /mnt/300G/data --data_root /mnt/300G/data/2022-09-19-132003/data/agg_slurm_test
2022-09-19 13:20:06,499 TADA INFO starting test `agg_slurm_test`
2022-09-19 13:20:06,499 TADA INFO   test-id: 1f19e5e6693eca9f0c20401f12f6198cbfb877f97dfceabd3011e9c99b68451d
2022-09-19 13:20:06,499 TADA INFO   test-suite: LDMSD
2022-09-19 13:20:06,499 TADA INFO   test-name: agg_slurm_test
2022-09-19 13:20:06,500 TADA INFO   test-user: narate
2022-09-19 13:20:06,500 TADA INFO   commit-id: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-19 13:20:06,500 __main__ INFO -- Get or create the cluster --
2022-09-19 13:20:14,236 __main__ INFO -- Preparing syspapi JSON file --
2022-09-19 13:20:14,322 __main__ INFO -- Preparing jobpapi JSON file --
2022-09-19 13:20:14,403 __main__ INFO -- Preparing job script & programs --
2022-09-19 13:20:15,247 __main__ INFO -- Start daemons --
2022-09-19 13:20:24,426 __main__ INFO ... wait a bit to make sure ldmsd's are up
2022-09-19 13:20:29,429 __main__ INFO -- ldms_ls to agg-2 --
2022-09-19 13:20:29,549 TADA INFO assertion 1, ldms_ls agg-2: dir result verified, passed
2022-09-19 13:20:29,643 __main__ INFO -- Give syspapi some time to work before submitting job --
2022-09-19 13:20:34,645 __main__ INFO -- Submitting jobs --
2022-09-19 13:20:34,764 __main__ INFO job_one: 1
2022-09-19 13:20:34,847 __main__ INFO job_two: 2
2022-09-19 13:20:44,857 __main__ INFO -- Cancelling jobs --
2022-09-19 13:20:44,858 __main__ INFO job_one: 1
2022-09-19 13:20:44,973 __main__ INFO job_two: 2
2022-09-19 13:21:51,239 TADA INFO assertion 2, slurm data verification: get expected data from store, passed
2022-09-19 13:21:51,239 TADA INFO assertion 3, meminfo data verification: No data missing, passed
2022-09-19 13:21:51,239 TADA INFO assertion 4, (SYS/JOB) PAPI data verification: No data missing, passed
2022-09-19 13:21:51,240 TADA INFO test agg_slurm_test ended
2022-09-19 13:22:03 INFO: ----------------------------------------------
2022-09-19 13:22:04 INFO: ======== maestro_cfg_test ========
2022-09-19 13:22:04 INFO: CMD: python3 maestro_cfg_test --prefix /home/narate/projects/ldms-test/ldms-containers/ovis --runtime docker --image ovishpc/ldms-dev --src /mnt/300G/data --data_root /mnt/300G/data/2022-09-19-132003/data/maestro_cfg_test
2022-09-19 13:22:04,272 TADA INFO starting test `maestro_cfg_test`
2022-09-19 13:22:04,272 TADA INFO   test-id: 743a41f0efc982719bb300ac930ed47029f7aac7ef26b566e2f2f9f2ce410d00
2022-09-19 13:22:04,272 TADA INFO   test-suite: LDMSD
2022-09-19 13:22:04,272 TADA INFO   test-name: maestro_cfg_test
2022-09-19 13:22:04,272 TADA INFO   test-user: narate
2022-09-19 13:22:04,272 TADA INFO   commit-id: d0f0efc0919dafdb8387c7a7dc69027d5e8949d5
2022-09-19 13:22:14,282 __main__ INFO -- Get or create cluster --
2022-09-19 13:22:28,129 __main__ INFO -- Start daemons --
2022-09-19 13:22:38,238 __main__ INFO ... make sure ldmsd's are up
2022-09-19 13:22:43,672 TADA INFO assertion 1, load maestro etcd cluster: etcd cluster loaded successfully, passed
2022-09-19 13:23:23,705 TADA INFO assertion 2, config ldmsd cluster with maestro: Maestro ldmsd configuration successful, passed
2022-09-19 13:23:24,734 TADA INFO assertion 3, verify sampler daemons: OK, passed
2022-09-19 13:23:25,116 TADA INFO assertion 4, verify L1 aggregator daemons: OK, passed
2022-09-19 13:23:25,298 TADA INFO assertion 5, verify L2 aggregator daemon: OK, passed
2022-09-19 13:23:25,423 TADA INFO assertion 6, verify data storage: OK, passed
---Wait for config to write to file---
2022-09-19 13:23:25,423 TADA INFO test maestro_cfg_test ended
2022-09-19 13:23:40 INFO: ----------------------------------------------
rm: cannot remove '/mnt/300G/data/2022-09-19-132003/data/maestro_cfg_test/containers/ldms_data': Permission denied
2022-09-19 13:23:40 INFO: ======== test-ldms ========
2022-09-19 13:23:40 INFO: CMD: /home/narate/projects/ldms-test/ldms-containers/test/test-ldms/test.sh
2022-09-19T13:23:40-05:00 INFO: starting test-samp-1
53471eb91adb8fa38eb965f4d1e0b24c245172e25fc3245888050dd5cd8ae6c3
2022-09-19T13:23:42-05:00 INFO: starting test-samp-2
600b721004fc69ccd80b654395c3e5078276ca4b74fa4308e896eae2f547cff4
2022-09-19T13:23:43-05:00 INFO: starting test-samp-3
edb6047773babd270d4c53afbec9c4d266db9448b32d28c50c274631266e0e6a
2022-09-19T13:23:44-05:00 INFO: starting test-samp-4
07cb0929050c21c347db5271c24e7d8ade4c4fcb2d60172cbd395f344f0280e2
2022-09-19T13:23:44-05:00 INFO: test-samp-1 is running
2022-09-19T13:23:45-05:00 INFO: test-samp-2 is running
2022-09-19T13:23:45-05:00 INFO: test-samp-3 is running
2022-09-19T13:23:45-05:00 INFO: test-samp-4 is running
2022-09-19T13:23:45-05:00 INFO: starting test-agg-11
9fe133073a329ae0db304de453ced4d42e9944294a5ea2c157792b6080959c7e
2022-09-19T13:23:46-05:00 INFO: starting test-agg-12
f47b4d35f37cd7ab6201fd10a418e83a65074077ef004453e362b09b12704be5
2022-09-19T13:23:46-05:00 INFO: test-agg-11 is running
2022-09-19T13:23:47-05:00 INFO: test-agg-12 is running
2022-09-19T13:23:47-05:00 INFO: starting test-agg-2
6b9ed49ab7a1ac37a9ad0041d77ed696565a9b80c236f4bf7ca56e417416c351
2022-09-19T13:23:47-05:00 INFO: test-agg-2 is running
2022-09-19T13:23:47-05:00 INFO: Collecting data (into SOS)
2022-09-19T13:23:57-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-19T13:23:59-05:00 INFO: check rc: 0
2022-09-19T13:23:59-05:00 INFO: Cleaning up ...
test-samp-1
test-samp-2
test-samp-3
test-samp-4
test-agg-11
test-agg-12
test-agg-2
2022-09-19T13:24:01-05:00 INFO: DONE
2022-09-19 13:24:11 INFO: ----------------------------------------------
2022-09-19 13:24:11 INFO: ======== test-maestro ========
2022-09-19 13:24:11 INFO: CMD: /home/narate/projects/ldms-test/ldms-containers/test/test-maestro/test.sh
2022-09-19T13:24:11-05:00 INFO: starting mtest-maestro
80616813c8f292b5f4639b214804fd50fb381d59c10f1b5afd1ced61dcb2bdf4
2022-09-19T13:24:13-05:00 INFO: starting mtest-samp-1
3843f4654668699caed48ecebf5c26d02e5f3d3633091373889c968ba1c39fc0
2022-09-19T13:24:13-05:00 INFO: starting mtest-samp-2
51764a371acfcc910a395852ccfe20ef267d4070fed352840be4afaf92576511
2022-09-19T13:24:14-05:00 INFO: starting mtest-samp-3
2cf0ac854c4d8293ae236d9db1f96ba28e4724487ba332897f5c551a367cddce
2022-09-19T13:24:15-05:00 INFO: starting mtest-samp-4
86191ebd6f0d86f99db74a7e2c8f617cf7c64148a2eafb1dae430f8b7d145266
2022-09-19T13:24:16-05:00 INFO: mtest-samp-1 is running
2022-09-19T13:24:16-05:00 INFO: mtest-samp-2 is running
2022-09-19T13:24:16-05:00 INFO: mtest-samp-3 is running
2022-09-19T13:24:16-05:00 INFO: mtest-samp-4 is running
2022-09-19T13:24:16-05:00 INFO: starting mtest-agg-11
3e979f6d1284af7899375bfbaf5a4046b58af5fc77a3b5e266ef4300308ead29
2022-09-19T13:24:16-05:00 INFO: starting mtest-agg-12
a92b129ca2fa2666d6e223ccbe08c9c863604274713c1b1616d67f707c806b17
2022-09-19T13:24:17-05:00 INFO: mtest-agg-11 is running
2022-09-19T13:24:17-05:00 INFO: mtest-agg-12 is running
2022-09-19T13:24:17-05:00 INFO: starting mtest-agg-2
53d4007514a1ac8a0483fc297b737fd2398a2480e39abe7bbfb371be4801d4db
2022-09-19T13:24:18-05:00 INFO: mtest-agg-2 is running
2022-09-19T13:24:18-05:00 INFO: Collecting data (into SOS)
mtest-agg-11
mtest-agg-12
2022-09-19T13:24:29-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-19T13:24:30-05:00 INFO: sos check rc: 0
2022-09-19T13:24:31-05:00 INFO: starting mtest-ui
8f21c98fd518757ad762bdc5b04b0cb60dd4efc5d8fb87595ec1a360c8a811a1
2022-09-19T13:24:32-05:00 INFO: Checking query from mtest-ui: http://mtest-ui/grafana/query
Traceback (most recent call last):
  File "<stdin>", line 11, in <module>
  File "/usr/lib/python3.10/urllib/request.py", line 216, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.10/urllib/request.py", line 519, in open
    response = self._open(req, data)
  File "/usr/lib/python3.10/urllib/request.py", line 536, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "/usr/lib/python3.10/urllib/request.py", line 496, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.10/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "/usr/lib/python3.10/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
  File "/usr/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/usr/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/usr/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response
2022-09-19T13:24:33-05:00 INFO: query check RC: 1
33df7d74979e28e37af3c6b6a2032e9de9466f89e7dc63d860488c9a01d5426e
2022-09-19T13:24:39-05:00 INFO: Adding DSOS data source in Grafana
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   479  100   366  100   113   7176   2215 --:--:-- --:--:-- --:--:--  9392
{"datasource":{"id":1,"uid":"V4QnNh74z","orgId":1,"name":"SOS-2","type":"dsosds","typeLogoUrl":"","access":"proxy","url":"http://mtest-ui/grafana","user":"","database":"","basicAuth":false,"basicAuthUser":"","withCredentials":false,"isDefault":true,"jsonData":{},"secureJsonFields":{},"version":1,"readOnly":false},"id":1,"message":"Datasource added","name":"SOS-2"}
2022-09-19T13:24:40-05:00 INFO: Checking grafana data
Traceback (most recent call last):
  File "/home/narate/projects/ldms-test/ldms-containers/test/test-maestro/grafana_check.py", line 24, in <module>
    rsp = urllib.request.urlopen(req)
  File "/usr/lib/python3.8/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.8/urllib/request.py", line 531, in open
    response = meth(req, response)
  File "/usr/lib/python3.8/urllib/request.py", line 640, in http_response
    response = self.parent.error(
  File "/usr/lib/python3.8/urllib/request.py", line 569, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.8/urllib/request.py", line 502, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.8/urllib/request.py", line 649, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 502: Bad Gateway
2022-09-19T13:24:40-05:00 INFO: Grafana data check, rc: 1
2022-09-19T13:24:40-05:00 INFO: Cleaning up ...
mtest-samp-1
mtest-samp-2
mtest-samp-3
mtest-samp-4
mtest-agg-11
mtest-agg-12
mtest-agg-2
mtest-maestro
mtest-ui
mtest-grafana
2022-09-19T13:24:43-05:00 INFO: DONE
2022-09-19 13:24:53 INFO: ----------------------------------------------
2022-09-19 13:24:53 INFO: ======== test-maestro-hostmunge ========
2022-09-19 13:24:53 INFO: CMD: /home/narate/projects/ldms-test/ldms-containers/test/test-maestro-hostmunge/test.sh
2022-09-19T13:24:53-05:00 INFO: Checking munge on localhost
2022-09-19T13:24:53-05:00 INFO: munge encode/decode successfully
2022-09-19T13:24:53-05:00 INFO: starting mtest-maestro
b27e1a96d5db73d2b93f0a69316553b722827551239568b20d6b55ea2197ad92
2022-09-19T13:24:54-05:00 INFO: starting mtest-samp-1
81bbbb924c21e81ca2b67a424d0ecfb9343922beec6a6f4b3f2e5e3a9f0bb6e6
2022-09-19T13:24:55-05:00 INFO: starting mtest-samp-2
7cbc3d05411294a835085c776e7ce278a0b34cd53dc8b62e8b09fc068bbac58b
2022-09-19T13:24:56-05:00 INFO: starting mtest-samp-3
b44dc793c3f99c2b38e183b0e9a37eb971f293590d78efaeb7ea0e858c4049a3
2022-09-19T13:24:56-05:00 INFO: starting mtest-samp-4
4b9343131bfc508ccb4523bc4523fa5873289f538c0ae77258399db07c9e4f7d
2022-09-19T13:24:57-05:00 INFO: mtest-samp-1 is running
2022-09-19T13:24:57-05:00 INFO: mtest-samp-2 is running
2022-09-19T13:24:57-05:00 INFO: mtest-samp-3 is running
2022-09-19T13:24:57-05:00 INFO: mtest-samp-4 is running
2022-09-19T13:24:57-05:00 INFO: starting mtest-agg-11
b873924f3e6e4a44eea3526909a6199997b295b3a52f7c91f3ae604e05dff86c
2022-09-19T13:24:58-05:00 INFO: starting mtest-agg-12
ec849e049d4f3b7eb10fb4fb8597ebd73d976357f69e37b77b34881a11916628
2022-09-19T13:24:59-05:00 INFO: mtest-agg-11 is running
2022-09-19T13:24:59-05:00 INFO: mtest-agg-12 is running
2022-09-19T13:24:59-05:00 INFO: starting mtest-agg-2
bbf48f16c2f629b1e23012a7cf4bd174945200c2a0d8e88f7e0c38755ded31e9
2022-09-19T13:25:00-05:00 INFO: mtest-agg-2 is running
2022-09-19T13:25:00-05:00 INFO: Collecting data (into SOS)
mtest-agg-11
mtest-agg-12
2022-09-19T13:25:10-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-19T13:25:11-05:00 INFO: sos check rc: 0
2022-09-19T13:25:12-05:00 INFO: starting mtest-ui
060935b4d2c39ae2cb5937ce369a6195c88b72d29cd67c7d24069e3da551b447
2022-09-19T13:25:13-05:00 INFO: Checking query from mtest-ui: http://mtest-ui/grafana/query
Traceback (most recent call last):
  File "<stdin>", line 11, in <module>
  File "/usr/lib/python3.10/urllib/request.py", line 216, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.10/urllib/request.py", line 519, in open
    response = self._open(req, data)
  File "/usr/lib/python3.10/urllib/request.py", line 536, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "/usr/lib/python3.10/urllib/request.py", line 496, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.10/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "/usr/lib/python3.10/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
  File "/usr/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/usr/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/usr/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response
2022-09-19T13:25:15-05:00 INFO: query check RC: 1
43a034697a32e3a14a2ac2a5ce04576a2127571686017a300867179c6c7b8bd1
2022-09-19T13:25:20-05:00 INFO: Adding DSOS data source in Grafana
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   479  100   366  100   113   7469   2306 --:--:-- --:--:-- --:--:--  9775
{"datasource":{"id":1,"uid":"u0kIHhn4z","orgId":1,"name":"SOS-2","type":"dsosds","typeLogoUrl":"","access":"proxy","url":"http://mtest-ui/grafana","user":"","database":"","basicAuth":false,"basicAuthUser":"","withCredentials":false,"isDefault":true,"jsonData":{},"secureJsonFields":{},"version":1,"readOnly":false},"id":1,"message":"Datasource added","name":"SOS-2"}
2022-09-19T13:25:21-05:00 INFO: Checking grafana data
Traceback (most recent call last):
  File "/home/narate/projects/ldms-test/ldms-containers/test/test-maestro-hostmunge/grafana_check.py", line 24, in <module>
    rsp = urllib.request.urlopen(req)
  File "/usr/lib/python3.8/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.8/urllib/request.py", line 531, in open
    response = meth(req, response)
  File "/usr/lib/python3.8/urllib/request.py", line 640, in http_response
    response = self.parent.error(
  File "/usr/lib/python3.8/urllib/request.py", line 569, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.8/urllib/request.py", line 502, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.8/urllib/request.py", line 649, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 502: Bad Gateway
2022-09-19T13:25:22-05:00 INFO: Grafana data check, rc: 1
2022-09-19T13:25:22-05:00 INFO: Cleaning up ...
mtest-samp-1
mtest-samp-2
mtest-samp-3
mtest-samp-4
mtest-agg-11
mtest-agg-12
mtest-agg-2
mtest-maestro
mtest-ui
mtest-grafana
2022-09-19T13:25:24-05:00 INFO: DONE
2022-09-19 13:25:34 INFO: ----------------------------------------------
2022-09-19 13:25:34 INFO: ======== test-maestro-munge ========
2022-09-19 13:25:34 INFO: CMD: /home/narate/projects/ldms-test/ldms-containers/test/test-maestro-munge/test.sh
1+0 records in
1+0 records out
4096 bytes (4.1 kB, 4.0 KiB) copied, 0.000178031 s, 23.0 MB/s
2022-09-19T13:25:35-05:00 INFO: starting mtest-maestro
e389e22127f58935a74f6b09d4e2fe74d0b8f9cb4c0cc875e2000a029b2ac0c8
2022-09-19T13:25:36-05:00 INFO: starting mtest-samp-1
5dfc76351fb071ee12784f06efe559e428c114325a9af1d71c574cf4b1c656f0
2022-09-19T13:25:37-05:00 INFO: starting mtest-samp-2
c64643731e7ce1bd167a00a163923ee9389879905649461e917e3ce012cfae10
2022-09-19T13:25:38-05:00 INFO: starting mtest-samp-3
9a2835a267015fb9d11784cf91277c614fddcc9523d0b055527772ad5e0839f5
2022-09-19T13:25:38-05:00 INFO: starting mtest-samp-4
06f8ece3b52be48d993f9cab4ccf564286792db1083eef507aa2b224e1df770a
2022-09-19T13:25:39-05:00 INFO: mtest-samp-1 is running
2022-09-19T13:25:39-05:00 INFO: mtest-samp-2 is running
2022-09-19T13:25:39-05:00 INFO: mtest-samp-3 is running
2022-09-19T13:25:39-05:00 INFO: mtest-samp-4 is running
2022-09-19T13:25:39-05:00 INFO: starting mtest-agg-11
21c7b0322af240a27022f3384076faca073beb88d8411a1286d4649c25dcecc8
2022-09-19T13:25:40-05:00 INFO: starting mtest-agg-12
a9dcbe064e4d374514771dbcb44c6a81d4184dbd27bed76720c03e005b1c8173
2022-09-19T13:25:41-05:00 INFO: mtest-agg-11 is running
2022-09-19T13:25:41-05:00 INFO: mtest-agg-12 is running
2022-09-19T13:25:41-05:00 INFO: starting mtest-agg-2
9a756893185eae02370f1c05b17c55931c9ea9a5f7aa14656e4209d84e310d55
2022-09-19T13:25:41-05:00 INFO: mtest-agg-2 is running
2022-09-19T13:25:41-05:00 INFO: Collecting data (into SOS)
mtest-agg-11
mtest-agg-12
2022-09-19T13:25:52-05:00 INFO: Checking SOS data
Component IDs: {1, 2, 3, 4}
2022-09-19T13:25:53-05:00 INFO: sos check rc: 0
2022-09-19T13:25:54-05:00 INFO: starting mtest-ui
7a6de2f0fb55ca7d7f5c2ef370c8786ed2f62dd63cdf6f78201a23ee4882d249
2022-09-19T13:25:55-05:00 INFO: Checking query from mtest-ui: http://mtest-ui/grafana/query
Traceback (most recent call last):
  File "<stdin>", line 11, in <module>
  File "/usr/lib/python3.10/urllib/request.py", line 216, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.10/urllib/request.py", line 519, in open
    response = self._open(req, data)
  File "/usr/lib/python3.10/urllib/request.py", line 536, in _open
    result = self._call_chain(self.handle_open, protocol, protocol +
  File "/usr/lib/python3.10/urllib/request.py", line 496, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.10/urllib/request.py", line 1377, in http_open
    return self.do_open(http.client.HTTPConnection, req)
  File "/usr/lib/python3.10/urllib/request.py", line 1352, in do_open
    r = h.getresponse()
  File "/usr/lib/python3.10/http/client.py", line 1374, in getresponse
    response.begin()
  File "/usr/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/usr/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response
2022-09-19T13:25:56-05:00 INFO: query check RC: 1
038ee47b3507bde544960fb1fdf28da78a4e781826d08e7b1d2cbfca7ac6eb3c
2022-09-19T13:26:02-05:00 INFO: Adding DSOS data source in Grafana
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   479  100   366  100   113   7956   2456 --:--:-- --:--:-- --:--:-- 10413
{"datasource":{"id":1,"uid":"RKONNh7Vz","orgId":1,"name":"SOS-2","type":"dsosds","typeLogoUrl":"","access":"proxy","url":"http://mtest-ui/grafana","user":"","database":"","basicAuth":false,"basicAuthUser":"","withCredentials":false,"isDefault":true,"jsonData":{},"secureJsonFields":{},"version":1,"readOnly":false},"id":1,"message":"Datasource added","name":"SOS-2"}
2022-09-19T13:26:03-05:00 INFO: Checking grafana data
Traceback (most recent call last):
  File "/home/narate/projects/ldms-test/ldms-containers/test/test-maestro-munge/grafana_check.py", line 24, in <module>
    rsp = urllib.request.urlopen(req)
  File "/usr/lib/python3.8/urllib/request.py", line 222, in urlopen
    return opener.open(url, data, timeout)
  File "/usr/lib/python3.8/urllib/request.py", line 531, in open
    response = meth(req, response)
  File "/usr/lib/python3.8/urllib/request.py", line 640, in http_response
    response = self.parent.error(
  File "/usr/lib/python3.8/urllib/request.py", line 569, in error
    return self._call_chain(*args)
  File "/usr/lib/python3.8/urllib/request.py", line 502, in _call_chain
    result = func(*args)
  File "/usr/lib/python3.8/urllib/request.py", line 649, in http_error_default
    raise HTTPError(req.full_url, code, msg, hdrs, fp)
urllib.error.HTTPError: HTTP Error 502: Bad Gateway
2022-09-19T13:26:03-05:00 INFO: Grafana data check, rc: 1
2022-09-19T13:26:03-05:00 INFO: Cleaning up ...
mtest-samp-1
mtest-samp-2
mtest-samp-3
mtest-samp-4
mtest-agg-11
mtest-agg-12
mtest-agg-2
mtest-maestro
mtest-ui
mtest-grafana
2022-09-19T13:26:06-05:00 INFO: DONE
2022-09-19 13:26:16 INFO: ----------------------------------------------
2022-09-19 13:26:16 INFO: ==== Summary ====
agg_slurm_test: [01;32mPASSED[0m
cont-test-maestro-hostmunge: [01;31mFAILED[0m
maestro_cfg_test: [01;32mPASSED[0m
cont-test-maestro: [01;31mFAILED[0m
cont-test-ldms: [01;32mPASSED[0m
cont-test-maestro-munge: [01;31mFAILED[0m
------------------------------------------
Total tests passed: 3/6
------------------------------------------
